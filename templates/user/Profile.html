<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Profil</title>

<!-- Custom fonts for this template-->


<link rel="stylesheet" type="text/css"
	href="/webjars/bootstrap/4.1.0/css/bootstrap.min.css">
<link href="/css/style.css" rel="stylesheet" type="text/css">
<link href="/vendor/fontawesome-free/css/all.min.css" rel="stylesheet"
	type="text/css">
<link
	href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
	rel="stylesheet">

<link href="img">
<!-- jQuery library -->


<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>



<!-- Custom styles for this template-->
<link href="/css/sb-admin-2.min.css" rel="stylesheet">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<style>
  #result {
   position: absolute;
   width: 50%;
   max-width:870px;
   cursor: point	er;
   overflow-y: auto;
   max-height: 400px;
   box-sizing: border-box;
   z-index: 1001;
  }
  .link-class:hover{
   background-color:#f1f1f1;
  }
  </style>
</head>

<body id="page-top">

	<nav
		class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">

		<nav
			class="navbar navbar-icon-top navbar-expand-lg navbar-dark color fixed-top shadow">
			<div class="container">
				<a class="navbar-brand" href="/navbarexemple"><img alt="Brand"
					src="/img/logo2f.png"></a>
				<button class="navbar-toggler" type="button" data-toggle="collapse"
					data-target="#navbarSupportedContent"
					aria-controls="navbarSupportedContent" aria-expanded="false"
					aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<div class="form-group has-search">
						<span class="fa fa-search form-control-feedback"></span> <input
				id="txtSearch"	type="text" class="form-control" placeholder="Rechercher" name="keyword">
				 <ul class="list-group" id="result"></ul>
					</div>
					<ul class="navbar-nav mr-auto">


					</ul>
					<ul class="navbar-nav ">
						<li class="nav-item active"><a class="nav-link"
							th:href="@{/user/home}"> <i class="fa fa-home"></i> Accueil
						</a></li>
						
						<li class="nav-item"><a class="nav-link" th:href="@{/user/mynetwork}">
								<i class="fa fa-users"></i> Réseau
						</a></li>
						<li class="nav-item active"><a class="nav-link"
							th:href="@{/user/articles}"> <i class="fa fa-bars"></i>
								Articles
						</a></li>
						<li class="nav-item active"><a class="nav-link"
							href="http://localhost:8080" target="_blank"> <i class="fa fa-book"></i> Cours
						</a></li>
						<li class="nav-item"><a class="nav-link" href="/Message">
								<i class="fa fa-envelope"></i> Message
						</a></li>




						<!-- Nav Item - User Information -->
							<li class="nav-item dropdown no-arrow"><a
							class="nav-link dropdown-toggle" href="#" id="userDropdown"
							role="button" data-toggle="dropdown" aria-haspopup="true"
							aria-expanded="false"> <img class="rounded-circle"
								alt="Brand" th:src="@{${'/img/' + user.profil.photo}}"
								width="80" height="60">
						</a> <!-- Dropdown - User Information -->
							<div style="font-size: 20px;"
								class="dropdown-menu dropdown-menu-right shadow animated--grow-in "
								aria-labelledby="userDropdown">

								<a class="dropdown-item"
									th:text="${user.nom}+' '+${user.prenom}"></a>
								<div class="dropdown-divider" style="font-size: 20px;"></div>
									<a class="dropdown-item"
									th:href="@{/user/profile(id=${user.idUtl})}"><i
									></i>Voir le profil</a>
								<div class="dropdown-divider" style="font-size: 20px;"></div>
								<a class="dropdown-item"
									th:href="@{/user/editProfil(id=${user.profil.idProfil})}"><i
									></i> Gérer le profil</a>
								<div class="dropdown-divider" style="font-size: 20px;"></div>
              

								<a class="dropdown-item " th:href="@{/logout}"><i
									class="fa fa-sign-out"></i>Se déconnecter</a>
							</div></li>

					</ul>

				</div>
			</div>
		</nav>


	</nav>
	<!-- Page Wrapper -->
	<div id="wrapper">

	<ul
			class="navbar-nav bg-white  sidebar accordion shadow-lg col-md-2 col-xs-6"
			id="accordionSidebar" style="margin-left: 50px; margin-top: 20px;">




			<!-- Divider -->
			<div class="p-3 mb-3 bg-white rounded">
				<div class="card"
					style="margin-left: 5px; border: 1px solid #31577C; background-color: #EFF3F7;">

					<img th:src="@{${'/img/' + user.profil.photo}}"
						style="margin-left: auto; margin-top: 5px; margin-right: auto; width: 50%; border-radius: 50%; height: 80px;" />

					<div class="card-body">
						<h7 class="card-title" th:text="${user.nom}+' '+${user.prenom}" style="margin-left:8px;"></h7>

						<a th:href="@{/user/profile(id=${user.idUtl})}"
											class="btn btn-outline-info stretched-link"
											style="margin-top: 8px;margin-left:-8px">Voir le profil</a>
						
					
					</div>
				</div>

			</div>

			<!-- Nav Item - Dashboard -->
			<li id="item" class="nav-item" th:each="f:${filieres}"><a
				class="nav-link" th:href="@{/user/promo(nom=${f.nom})}"> <i
					class="fa fa-group" style="color: #31577C;"></i> <span
					th:text="Profiles+' '+${f.nom}"
					style="color: #31577C; margin-left: 10px; font-size: 15px;"></span>
			</a>
				<hr class="sidebar-divider my-0" style=""></li>





		</ul>
		<!-- End of Sidebar -->

		<!-- Content Wrapper -->
		<div id="content-wrapper" class="d-flex flex-column"
			style="margin-left: 80px;">

			<!-- Main Content -->
			<div id="content">

				<!-- Topbar -->

				<!-- End of Topbar -->

				<!-- Begin Page Content -->
				<div class="container-fluid">

					<!--  //hhhh -->
					<div class="row" style="padding: 20px;">
						<div class="col-sm-4">
							<div class="profile-sidebar-hh shadow">
								<!-- SIDEBAR USERPIC -->

								<div class="wrapper">

									<div class="sin-team">

										<img id="img_prf" alt=""
											th:src="@{${'/img/' + profile.photo}}">
										<div style="padding-bottom: 1em; padding-top: -1em;"
											class="profile-photo-edit__edit-icon-container">
											<a href="/edit_photo"> <li-icon s aria-hidden="true"
													type="pencil-icon" class="profile-photo-edit__edit-icon"
													size="small">
												<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 20"
													data-supported-dps="16x16" width="490" height="28"
													focusable="true">
  <path
														d="M14.71 4L12 1.29a1 1 0 00-1.41 0L3 8.85 1 15l6.15-2 7.55-7.55a1 1 0 00.3-.74 1 1 0 00-.29-.71zm-8.84 7.6l-1.5-1.5 5.05-5.03 1.5 1.5zm5.72-5.72l-1.5-1.5 1.17-1.17 1.5 1.5z"></path>
</svg></li-icon>
											</a>
										</div>


									</div>


								</div>




								<!-- END SIDEBAR USERPIC -->
								<!-- SIDEBAR USER TITLE -->
								<div class="profile-usertitle">
									<div class="profile-usertitle-name">
										<label
											th:text="@{${utilisateur.nom + ' ' +utilisateur.prenom}}"></label>
									</div>

								</div>
								<!-- END SIDEBAR USER TITLE -->
								<!-- SIDEBAR BUTTONS -->

								<!-- END SIDEBAR BUTTONS -->
								<!-- SIDEBAR MENU -->
								<div class="form-group">

									<label class="profile-usertitle-job">filière : </label><label
										class="usertitle-name" th:text="${utilisateur.filiere.nom}"></label>


								</div>
								<div class="form-group">

									<label class="profile-usertitle-job">Promo : </label><label
										class="usertitle-name" th:text="${promo}"></label>


								</div>
								<!-- END MENU -->
							</div>
							<div class="profile-sidebar shadow">
								<div class="cordone">
									<label class="titre"> Coordonnées : </label>
								</div>
								<div class="form-group">
									<img src="/img/logo.jpg" viewBox="0 0 24 24"
										data-supported-dps="24x24" width="40" height="40"> <label
										class="font-weight-bold" style="color: black;">Votre
										profil </label>
									<div class="pv-contact-info__ci-container link">
										<a
											href="https://www.linkedin.com/in/omar-elouahdani-bb9650134">
											linkedin.com/in/omar-elouahdani-bb9650134 </a>
									</div>
								</div>
								<hr style="border-bottom: 1px dotted #8c8b8b;">
								<div class="form-group">
									<img src="/img/phone_icon.jpg" viewBox="0 0 24 24"
										data-supported-dps="24x24" width="40" height="40"> <label
										class="font-weight-bold" style="color: black;">téléphone</label>
									<div class="pv-contact-info__ci-container link">
										<span class="t-14 t-black t-normal"
											th:text="${profile.telephone}"></span> <span
											class="t-14 t-black--light t-normal"> (Domicile)</span>
									</div>
								</div>
								<hr style="border-bottom: 1px dotted #8c8b8b;">
								<div class="form-group">
									<img src="/img/adrs.png" viewBox="0 0 24 24"
										data-supported-dps="24x24" width="40" height="40"> <label
										class="font-weight-bold" style="color: black;">Adresse
									</label>
									<div class="pv-contact-info__ci-container link">


										<a href="http://maps.apple.com/?address=labita kenitra"
											class="pv-contact-info__contact-link t-14 t-black t-normal"
											target="_blank" rel="noopener noreferrer"> <label
											th:text="${utilisateur.adresse}"> </label>
										</a>


									</div>
								</div>
								<hr style="border-bottom: 1px dotted #8c8b8b;">
								<div class="form-group" style="padding-left: 0.5em;">
									<img src="/img/anivers_img.jpg" viewBox="0 0 24 24"
										data-supported-dps="24x24" width="30" height="30"> <label
										class="font-weight-bold" style="color: black;">Anniversaire
									</label>
									<div class="pv-contact-info__ci-container linkk">
										<span style="padding-left: -3em;" th:text="${aniv}"> </span>
									</div>
								</div>
								<hr style="border-bottom: 1px dotted #8c8b8b;">
								<div class="form-group"
									style="padding-left: 0.5em; padding-bottom: 4em;">
									<img src="/img/gmail.png" viewBox="0 0 24 24"
										data-supported-dps="24x24" width="30" height="30"> <label
										class="font-weight-bold" style="color: black;">Gmail </label>
									<div class="pv-contact-info__ci-container linkk">
										<span style="padding-left: -3em;"
											th:text="${utilisateur.compte.gmail}"> </span>
									</div>
								</div>

							</div>
						</div>
						<div class="col-sm-8">
							<div class="page shadow" id="profile" style="display: block;">
								<label class="font-weight-bold profile-usertitle-name titre">
									Infos </label> <label th:text="${profile.description}"></label>
							</div>
							<div class="page shadow" id="profile"
								style="display: block; margin-top: 2em;">


								<label class="font-weight-bold profile-usertitle-name titre">
									Les réseaux sociaux </label>
								<div style="padding-bottom: 12px; padding-left: 100px;">
									<div class="form-group RS" th:each="r:${rs_sociaux}">
										<img th:src="@{${'/img/' + r.photo}}" width="40" height="40">
										<a th:href="${r.lien}"> <label th:text="${r.lien}">
										</label>
										</a>

									</div>


								</div>
							</div>
							<div class="page shadow" id=""
								style="display: block; margin-top: 2em;">
								<label class="font-weight-bold profile-usertitle-name titre">
									Photos </label>
								<div id="carouselExampleIndicators" class="carousel slide my-4"
									data-ride="carousel">
									<ol class="carousel-indicators">
										<li data-target="#carouselExampleIndicators" data-slide-to="0"
											class="active"></li>
										<li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
										<li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
										<li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
									</ol>
									<div class="carousel-inner" role="listbox">
										<div class="carousel-item">
											<img class="d-block img-fluid" src="/img/hack&pitch.jpg"
												alt="First slide">
										</div>
										<div class="carousel-item">
											<img class="d-block img-fluid" src="/img/enactus.jpg"
												alt="Second slide">
										</div>
										<div class="carousel-item active">
											<img class="d-block img-fluid" src="/img/work.JPG"
												alt="Third slide">
										</div>
										<div class="carousel-item">
											<img class="d-block img-fluid" src="/img/net.JPG"
												alt="four slide">
										</div>
									</div>
									<a class="carousel-control-prev"
										href="#carouselExampleIndicators" role="button"
										data-slide="prev"> <span
										class="carousel-control-prev-icon" aria-hidden="true"></span>
										<span class="sr-only">Previous</span>
									</a> <a class="carousel-control-next"
										href="#carouselExampleIndicators" role="button"
										data-slide="next"> <span
										class="carousel-control-next-icon" aria-hidden="true"></span>
										<span class="sr-only">Next</span>
									</a>
								</div>
							</div>

						</div>
					</div>


					<!-- /.row -->



				</div>
				<!-- /.container-fluid -->

			</div>
			<!-- End of Main Content -->

			<!-- Footer -->

			<!-- End of Footer -->

		</div>
		<!-- End of Content Wrapper -->

	</div>
	<footer class="footer-distributed">

		<div class="footer-left">

			<img alt="Brand" src="/img/logo2f.png" width="200" height="150">

			<p class="footer-links">
				<a href="/navbarexemple" class="link-1">Accueil</a> <a
					href="/Reseau">Réseau</a> <a href="#">Messages</a>
			</p>
		</div>
		<div class="footer-center">
			<div>
				<i class="fa fa-map-marker"></i>
				<p>BP 159 Bd Hassan II Mohammedia</p>
			</div>

			<div>
				<i class="fa fa-phone"></i>
				<p>05 23 32 22 20</p>
			</div>

			<div>
				<i class="fa fa-envelope"></i>
				<p>ensetnetwork@gmail.com</p>
			</div>

		</div>

		<div class="footer-right">
			<h3>
				ENSET<span>NETWORK</span>
			</h3>
			<p class="footer-company-about">Est un réseau social et
				professionnel dédié aux étudiants et aux lauréats de l'ENSETM</p>

			<div class="footer-icons">

				<a href="#"><i class="fa fa-facebook"></i></a> <a href="#"><i
					class="fa fa-twitter"></i></a> <a href="#"><i
					class="fa fa-linkedin"></i></a> <a href="#"><i class="fa fa-github"></i></a>

			</div>

		</div>
		<p class="footer-company-name">GLSID © 2020</p>
	</footer>
	<!-- End of Page Wrapper -->

	<!-- Scroll to Top Button-->
	<a class="scroll-to-top rounded" href="#page-top"> <i
		class="fas fa-angle-up"></i>
	</a>

	<!-- Logout Modal-->
	<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog"
		aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
					<button class="close" type="button" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">Ã</span>
					</button>
				</div>
				<div class="modal-body">Select "Logout" below if you are ready
					to end your current session.</div>
				<div class="modal-footer">
					<button class="btn btn-secondary" type="button"
						data-dismiss="modal">Cancel</button>
					<a class="btn btn-primary" href="login.html">Logout</a>
				</div>
			</div>
		</div>
	</div>
	<!-- Bootstrap core JavaScript-->
	<script src="/jquery/jquery.min.js"></script>
	<script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

	<!-- Core plugin JavaScript-->
	<script src="/vendor/jquery-easing/jquery.easing.min.js"></script>

	<!-- Custom scripts for all pages-->
	<script src="/js/sb-admin-2.min.js"></script>
<script th:inline="javascript">
	 /*<![CDATA[*/
    
    var utilisateurs =  /*[[${utilisateurs}]]*/

  /*]]>*/
   window.onload = function(){
            var txtSearch = document.getElementById('txtSearch');
            document.onclick = function(e){
               if(e.target.id !== 'txtSearch'){
            	   document.getElementById('result').innerHTML = "";
            	   document.getElementById('txtSearch').value = "";
               }
            };
         };

	$('#txtSearch').on('keyup',function(){
		var value = $(this).val();
		console.log('value = '+ value);
	
		
		//get filtered utilisateur list
		var data  = filterFunction(value, utilisateurs);
		rebuildUl(data);
	});
	
	function filterFunction(value, data)
	{
		var filteredData = [];
		for(var i = 0 ; i<data.length;i++)
			{
			value = value.toLowerCase();
			var fname = data[i].nom.toLowerCase();
			var lname = data[i].prenom.toLowerCase();
			console.log('fname = '+ fname);
			console.log('photo = '+ data[i].photo);
			if(fname.includes(value) || lname.includes(value) )
				{
				filteredData.push(data[i]);
				
				}
			}
		return filteredData;
	}
	function rebuildUl(data)
	{
		var ul = document.getElementById('result');
		ul.innerHTML = '';
		for(var i = 0 ; i<data.length;i++)
			{
		var li =	"<a  id=\"demo\" href=\"/user/profile?id="+data[i].idUt+"\"><li class=\"list-group-item link-class\" > <img   src=\"/img/"+data[i].photo+"\"  height=\"70\"    width=\"70\"  class=\"rounded\"/>       " + data[i].nom + "  | <span > "+ data[i].prenom + "</span> <span class=\"text-muted\" > | filière  "+ data[i].filiere + "</span><span class=\"text-muted\" > | promo  "+ data[i].promo + "</span></li></a>";
		ul.innerHTML += li;
		
			}
		
		
	}
	
	
	
	</script>

</body>

</html>
